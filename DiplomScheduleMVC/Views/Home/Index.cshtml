@model List<DiplomScheduleMVC.Models.Schedule>
@using DiplomScheduleMVC.Models;
@using Pair = DiplomScheduleMVC.Models.Pair
@{
    ViewBag.Title = "Головна";
    List<Day> days = new List<Day>();
    if (ViewData["dayList"] != null)
    {
        days = ViewData["dayList"] as List<Day>;
    }
    List<Pair> pairs = new List<Pair>();
    if (ViewData["pairList"] != null)
    {
        pairs = ViewData["pairList"] as List<Pair>;
    }
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Розклад</title>
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        $("body").css("display", "none");
        $("body").fadeIn(2000);
    });
</script>
<body>
    @{
        //var Groups = (List<string>)ViewData["GroupList"];
    }
    <div class="dropdown">
        <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">
            Виберіть групу
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu">
            @foreach (var b in ViewData["group"] as List<Group>)
            {
                <li>
                    <a class="dropdown-item" href="@Url.Action("Index", "Home", new { groupId = b.GroupID })">@b.GroupName</a>
                </li>
            }
            @*@foreach (var b in ViewBag.Groups)
                {
                  <li><a href="#">@b.</a></li>
                }*@
        </ul>
    </div>

    @*@Html.DropDownList("GroupID", ViewBag.Groups as SelectList);*@
    @if (ViewBag.groupId != 0)
    {
        <div class="For_Group">
            <p>Розклад для групи</p>
        </div>
        <table class="table">
            <tr>
                <th>Pair №</th>
                @foreach (var day in days)
                {
                    <th>@day.DayName</th>
                }
            </tr>
            @foreach (var pair in pairs)
            {
                <tr>
                    <td>@pair.PairNumber</td>
                    @foreach (var day in days)
                    {
                        <td>
                            @if (Model.Any(x => x.DayID == day.DayID && x.PairID == pair.PairID))
                            {
                            <span>Пара: @Model.FirstOrDefault(x => x.DayID == day.DayID && x.PairID == pair.PairID).Subject.SubjectName</span>
                            <br />
                            <span>Прєпод: @Model.FirstOrDefault(x => x.DayID == day.DayID && x.PairID == pair.PairID).Teacher.TeacherName</span>
                            <br />

                            }
                        </td>
                    }
                </tr>
            }
        </table>

    }

</body>
</html>